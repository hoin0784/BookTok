{% extends "Navi.html" %}
{% block title %} My Bookshelf {% endblock %}

{% block head %}

    <link rel="stylesheet" href="/css/pure/pure-min.css">
    <link rel="stylesheet" href="/css/pure/grids-responsive-min.css">
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script async defer src="/static/functions.js"></script>
    
{% endblock %}

{% block content %}

<br>
<br><br><br>

<h2 class="banner-head"> Your bookshelf</h2>
<p>
    <div class="pure-button add-shelf popup">
        <i class="fa-solid fa-plus" onclick="newShelfForm()"> Create new bookshelf</i>
        <div class="popuptext" id="popupBox">
            <form class="pure-form" id="newBookshelf" method="post">
                <input type="text" id="bookshelfName" name="bookshelfName" class="pure-input searchBox" placeholder="New bookshelf name"
                    required="" />
                <br>
                <button type="submit" class="pure-button create-shelf-button">
                    Save
                </button>
                <button class="pure-button create-shelf-button" onclick="closePopup()">
                    Close
                </button>
            </form>
        </div>
    </div>

    <div id="bookshelf-list">
        {% for i in range(bookshelves|length) %}
            <table class="pure-table pure-table-horizontal" id="bookshelf">
                <thead>
                    {{bookshelves[i][0]}}
                    <button class="delete-button" data-bookshelf-id="{{bookshelves[i]}}">
                        delete
                    </button>
                </thead>
                <tbody>
                    {% for book in books[i] %}
                        <tr>
                            <td>{{book[0]}}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endfor %}
    </div>
</p>

{% endblock %}